## RESGS - 实时三国杀游戏服务器

RESGS是一个基于TypeScript和Node.js开发的实时多人三国杀游戏服务器及客户端实现。本项目使用Colyseus作为实时游戏服务器框架，提供稳定、可扩展的游戏体验。

### 准备工作

#### Windows用户

```bash
git config --global core.symlinks true
```

这是必要的设置，因为本项目在客户端和服务器端之间使用了符号链接来共享代码。

### 项目概览

#### 主要功能

- **多种游戏模式支持**：标准三国杀、国战模式、斗地主等多种游戏模式
- **武将技能系统**：丰富的武将技能实现，支持触发技、状态技等多种技能类型
- **回合制战斗**：完整实现三国杀的回合制战斗系统
- **多人在线对战**：支持多人实时在线对战，包括托管、投降等功能
- **断线重连**：支持玩家断线重连，保持游戏状态
- **游戏录像**：支持游戏录像保存和回放
- **用户系统**：完整的用户注册、登录、权限管理系统

#### 技术架构

- **服务器**：基于Node.js和TypeScript，使用Colyseus框架
- **客户端**：LayaAir引擎实现的Web客户端
- **数据存储**：MongoDB用于存储用户数据、游戏记录等
- **代码共享**：通过symlink实现客户端和服务器共享游戏逻辑代码

#### 项目结构

- **client/**：客户端代码
  - **src/**：客户端源代码
  - **assets/**：游戏资源
  - **bin/**：编译后的客户端代码
  
- **server/**：服务器代码
  - **src/**：服务器源代码
    - **core/**：核心游戏逻辑
    - **extensions/**：游戏扩展包(武将、卡牌、技能等)
    - **rooms/**：游戏房间实现
    - **db/**：数据库操作
  - **build/**：编译后的服务器代码
  
### 准备工作

本项目中server/src/core以及server/src/extensions目录下的代码都是通过符号链接方式在服务端与客户断进行引用。请于开发前在client/src目录下对上述两个目录进行符号链接。

### 扩展系统

项目采用模块化设计，支持通过扩展包方式添加：

- 新武将及其技能
- 新游戏牌及效果
- 新游戏模式规则
- 新游戏效果和动画

### 开发指南

#### 环境需求

- Node.js >= 20.9.0
- MongoDB服务器
- Git (启用符号链接支持)

#### 本地开发

1. Fork and Clone
2. 安装服务器和客户端依赖
3. 配置MongoDB连接
4. 启动服务器和客户端
5. 开始开发或游戏测试
