## 一些技能效果仅能在对应的时机生效，若不遵循则可能会发生错误。

### 一、游戏开始前的时机（这些时机一般不会在技能中被使用）
GameStartBefore 游戏开始前进行处理，例如：君主装备替换  
AssignRoles 在特定模式下下发身份牌  
AdjustSeats 在特定模式下确定座次  
ChooseGeneral 选择武将牌，每一个模式都需要在此时机下添加规则技能用来让玩家选择武将牌  
ChooseGeneralAfter 让玩家获得其各自选择的武将牌上的技能  
InitProperty 初始化玩家信息，例如体力上限，体力等  
InitHandCard 分发起始手牌  

### 二、回合相关
GameStarted 游戏正式开始，此时的回合数据为第一个行动的玩家的回合，但不处于该玩家的回合内  
CircleStarted 每轮开始时，此时的回合数据为本轮第一个行动的玩家的回合，但不处于该玩家的回合内  
CircleEnd 每轮结束时，此时的回合数据为本轮最后一个行动的玩家的回合，但不处于该玩家的回合内  
TurnStartBefore 回合开始前，此时不处于玩家的回合内。如果玩家被翻面，则一个回合中只有此时机会被触发  
TurnEnd 回合结束时（回合结束前⑨）  
TurnEnded 回合结束后，此时已经不处于玩家的回合内。该时机一般用于处理游戏逻辑，技能中用不到  
xxxPhaseStart xxx阶段开始前 一个涉及跳过阶段的技能，只能在此时机进行(调用跳过阶段相关的函数)  
xxxPhaseStarted xxx阶段开始时 等同于卡牌描述中的{xxx阶段，……}。特殊地，摸牌阶段该时机仅用于执行一些与摸牌数修改无关的操作，如恂恂  
xxxPhaseProceeding xxx阶段 一般用于在规则中处理各阶段应该进行的操作。特殊地，摸牌阶段涉及到修改摸牌数的技能在此时机，如英姿；出牌阶段该时机等同于出牌阶段的空闲时间点，会被循环触发直到玩家主动点击结束为止。  
xxxPhaseEnd xxx阶段结束时  
DrawPhaseStartedAfter 等同于规则集时机摸牌阶段开始时2，对应描述为，令额定摸牌数为0（卡牌描述中将摸牌改为……），应该在此时机。  
注：在底层实现令额定摸牌数为0的方法为结束当前阶段，需要在技能中手动调用data.end()方法。虽然在卡牌描述中可能会出现，你跳过摸牌阶段改为……的描述，但在这里不应该跳过阶段。  

### 三、使用/打出
需要使用/打出牌时1：如同正常时机一般触发，例如：八卦阵  
需要使用/打出牌时2：cost和effect函数中提供的data参数为预使用事件  
需要使用/打出牌时3：cost和effect函数中提供的data参数为实际的使用事件  
*在2和3时，牌的使用结算均没有开始执行  

### 四、其他
移动牌相关的技能。仅能在MoveCardBefore1和MoveCardBefore2两个时机进行取消/防止移动  
使用牌过程中。仅能在BecomeTarget(指定目标时)这个时机(包含)之前的时机修改目标列表  

